to = 330;
ta = 500;
ct = 2;
ft = 2;
uabyrho = 16;
hrxn1 = -1800;
hrxn2 = 1800;
hrxn3 = -1100;
cpa = 100;
cpb = 100;
cpc = 100;
%k1 = 0.5*exp(2*(1-(320/T)));
%kc = 10*exp(4.8*((432/T)-1.5));
%k2 = (0.5*exp(2*(1-(320/T))))/(10*exp(4.8*((432/T)-1.5)));
%k3 = 0.005*exp(4.6*(1-(460/T)));
%ca = ct*(fa/ft)*(to/T);
%cb = ct*(fb/ft)*(to/T);
%r1a = (0.5*exp(2*(1-(320/y(4)))))*(ct*(y(1)/ft)*(to/y(4)));
%r2b = (0.5*exp(2*(1-(320/y(4)))))/(10*exp(4.8*((432/y(4))-1.5)))*(ct*(y(2)/ft)*(to/y(4)));
%r3a = 0.005*exp(4.6*(1-(460/y(4))))*(ct*(y(1)/ft)*(to/y(4)));
%ra = -((0.5*exp(2*(1-(320/y(4)))))*(ct*(y(1)/ft)*(to/y(4))))+((0.5*exp(2*(1-(320/y(4)))))/(10*exp(4.8*((432/y(4))-1.5)))*(ct*(y(2)/ft)*(to/y(4))))-(0.005*exp(4.6*(1-(460/y(4))))*(ct*(y(1)/ft)*(to/y(4))));
%rb = ((0.5*exp(2*(1-(320/y(4)))))*(ct*(y(1)/ft)*(to/y(4))))-((0.5*exp(2*(1-(320/y(4)))))/(10*exp(4.8*((432/y(4))-1.5)))*(ct*(y(2)/ft)*(to/y(4))));
%rc = (0.005*exp(4.6*(1-(460/y(4))))*(ct*(y(1)/ft)*(to/y(4))));

f =@(w,y) [-((0.5*exp(2*(1-(320/y(4)))))*(ct*(y(1)/ft)*(to/y(4))))+((0.5*exp(2*(1-(320/y(4)))))/(10*exp(4.8*((432/y(4))-1.5)))*(ct*(y(2)/ft)*(to/y(4))))-(0.005*exp(4.6*(1-(460/y(4))))*(ct*(y(1)/ft)*(to/y(4)))); ((0.5*exp(2*(1-(320/y(4)))))*(ct*(y(1)/ft)*(to/y(4))))-((0.5*exp(2*(1-(320/y(4)))))/(10*exp(4.8*((432/y(4))-1.5)))*(ct*(y(2)/ft)*(to/y(4)))); (0.005*exp(4.6*(1-(460/y(4))))*(ct*(y(1)/ft)*(to/y(4)))); (uabyrho*(ta-y(4))+(-((0.5*exp(2*(1-(320/y(4)))))*(ct*(y(1)/ft)*(to/y(4)))))*(-hrxn1)+(((0.5*exp(2*(1-(320/y(4)))))/(10*exp(4.8*((432/y(4))-1.5)))*(ct*(y(2)/ft)*(to/y(4)))))*(-hrxn2)+(-(0.005*exp(4.6*(1-(460/y(4))))*(ct*(y(1)/ft)*(to/y(4)))))*(-hrxn3))/((y(1)*cpa)+(y(2)*cpb)+(y(3)*cpc))];
[w,y] = ode45(f,[0 100],[1; 1; 0; 330])
figure(1)
plot(w,y(:,1),'-o',w,y(:,2),'-o',w,y(:,3),'-o')
xlabel('w weight')
ylabel('y flowrate')
figure(2)
plot(w,y(:,4),'-o')
xlabel('w weight')
ylabel('y(4) tempearture')


